<?xml version="1.0"?>
<schema xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:Setup/Declaration/Schema/etc/schema.xsd">
<table name="hoangcong_blog" resource="default" engine="innodb" 
    comment="This table declare infomations of Blog Page in Module HoangCong_Blog">
    <column xsi:type="int" name="post_id" padding="11" unsigned="false" nullable="false" identity="true" comment="Post ID"/>
    <column xsi:type="varchar" name="url_key" length="100"  nullable="true" default="/" comment="url key"/>
    <column xsi:type="varchar" name="title" length="100" nullable="true" default="this is title of the post" comment="Blog Title"/>
    <column xsi:type="longtext" name="post"  nullable="true" comment="Content of the post"/>
    <column xsi:type="smallint" name="is_active" padding="2" unsigned="true" nullable="false" identity="false" comment="define post showable"/>
     <column xsi:type="datetime" name="creation_time" on_update="false" nullable="true" comment="Creation time of the post"/>
     <column xsi:type="datetime" name="update_time" on_update="true" nullable="true" comment="Update time of the post"/>
    <constraint xsi:type="primary" referenceId="PRIMARY">
        <column name="post_id"/>
    </constraint>
</table>

<table name="hoangcong_blog_comment_post" resource="default" engine="innodb" 
    comment="This table declare relations of comments with posts in module HoangCong_Blog ">
    <column xsi:type="int" name="id" padding="11" unsigned="false" nullable="false" identity="true" comment="ID"/>
    <column xsi:type="int" name="post_id" padding="11" unsigned="false" nullable="false" comment="Post ID refer Post Id"/>
    <column xsi:type="int" name="comment_id" padding="11" unsigned="false" nullable="false" comment="Comment ID refer comment content"/>
    <constraint xsi:type="foreign"  table="hoangcong_blog_comment_post" column="post_id" referenceTable="hoangcong_blog" referenceColumn="post_id" onDelete="CASCADE"/>
    <constraint xsi:type="foreign"  table="hoangcong_blog_comment_post" column="comment_id" referenceTable="hoangcong_blog_comment" referenceColumn="comment_id" onDelete="CASCADE"/>
    <constraint xsi:type="primary" referenceId="PRIMARY">
        <column name="id"/>
    </constraint>
</table>

<table name="hoangcong_blog_comment" resource="default" engine="innodb" 
    comment="comments in module HoangCong_Blog ">
    <column xsi:type="int" name="comment_id" padding="11" unsigned="false" nullable="false" identity="true" comment="comment ID"/>
    <column xsi:type="text" name="content"  nullable="true" comment="Content of the comment"/>
    <constraint xsi:type="primary" referenceId="PRIMARY">
        <column name="comment_id"/>
    </constraint>
</table>

</schema>